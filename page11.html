<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <title>Teste Arranjo de Figuras</title>
    <imagetitle></imagetitle>
  </head>
  <body>
    <style>
      body { background-color: powderblue; }
    </style>
    <h1 class="title">Arraste a imagem na ordem correta</h1>
    <div class="container">
      <img
        src="./page11Images/samuel1.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
      <img
        src="./page11Images/samuel2.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
      <img
        src="./page11Images/samuel3.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
       <img
        src="./page11Images/samuel4.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
       <img
        src="./page11Images/samuel5.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
       <img
        src="./page11Images/samuel6.png"
        alt="drag-and-drop image script"
        title="drag-and-drop image script"
        class="dragme"
      />
    </div>
  </body>
<script>
    var drag = false;
var coordX = 0;
var coordY = 0;
var offsetX = 0;
var offsetY = 0;

function startDrag(e) {
  if (!e) {
    var e = window.event;
  }
  if (e.preventDefault) e.preventDefault();
  var targ = e.target ? e.target : e.srcElement;

  if (targ.className != "dragme") {
    return;
  }
  offsetX = e.clientX;
  offsetY = e.clientY;
  if (!targ.style.left) {
    targ.style.left = "0px";
  }
  if (!targ.style.top) {
    targ.style.top = "0px";
  }
  coordX = parseInt(targ.style.left);
  coordY = parseInt(targ.style.top);
  drag = true;
  document.onmousemove = dragDiv;
  return false;
}

function dragDiv(e) {
  if (!drag) {
    return;
  }
  if (!e) {
    var e = window.event;
  }
  var targ = e.target ? e.target : e.srcElement;

  // Get the window width and height
  var maxX = window.innerWidth - targ.clientWidth;
  var maxY = window.innerHeight - targ.clientHeight;

  // Calculate new position
  var newLeft = coordX + e.clientX - offsetX;
  var newTop = coordY + e.clientY - offsetY;

  // Prevent the image from going out of bounds
  if (newLeft < 0) newLeft = 0;
  if (newTop < 0) newTop = 0;
  if (newLeft > maxX) newLeft = maxX;
  if (newTop > maxY) newTop = maxY;

  targ.style.left = newLeft + "px";
  targ.style.top = newTop + "px";

  return false;
}

function stopDrag() {
  drag = false;
}

window.onload = function () {
  document.onmousedown = startDrag;
  document.onmouseup = stopDrag;
};
</script>
</html>
